var documenterSearchIndex = {"docs":
[{"location":"mesh/","page":"Mesh","title":"Mesh","text":"Pages=[\"mesh.md\"]","category":"page"},{"location":"mesh/","page":"Mesh","title":"Mesh","text":"CurrentModule = SimpleDistMesh","category":"page"},{"location":"mesh/#Mesh","page":"Mesh","title":"Mesh","text":"","category":"section"},{"location":"mesh/","page":"Mesh","title":"Mesh","text":"Methods for creating 2-dimensional meshes using the DistMesh method are contained in the module,","category":"page"},{"location":"mesh/","page":"Mesh","title":"Mesh","text":"SimpleDistMesh","category":"page"},{"location":"mesh/#SimpleDistMesh.SimpleDistMesh","page":"Mesh","title":"SimpleDistMesh.SimpleDistMesh","text":"SimpleDistMesh\n\nMesh generation using signed distance functions\n\n\n\n\n\n","category":"module"},{"location":"mesh/","page":"Mesh","title":"Mesh","text":"","category":"page"},{"location":"mesh/","page":"Mesh","title":"Mesh","text":"Meshes are stored as a set of node positions and triangles in column-major format in Mesh. A 2-dimensional mesh can be generated by defining a signed distance function mboxdmathbbR^2 rightarrow  mathbbR and desired truss element length mboxhmathbbR^2 rightarrow  mathbbR, and passing to the Mesh constructor.","category":"page"},{"location":"mesh/","page":"Mesh","title":"Mesh","text":"Mesh","category":"page"},{"location":"mesh/#SimpleDistMesh.Mesh","page":"Mesh","title":"SimpleDistMesh.Mesh","text":"Mesh\n\nMesh containing nodes positions and triangulation\n\nProperties\n\nnodes::Matrix (2, n_nodes) 2-dimensional position of nodes\ntriangulation::Matrix{Int} (3, n_edges) node indices defining the triangles   of the mesh\n\n\n\n\n\n","category":"type"},{"location":"mesh/","page":"Mesh","title":"Mesh","text":"","category":"page"},{"location":"mesh/#Utilities","page":"Mesh","title":"Utilities","text":"","category":"section"},{"location":"mesh/","page":"Mesh","title":"Mesh","text":"The following functions perform various steps of the DistMesh mesh relaxation algorithm.","category":"page"},{"location":"mesh/","page":"Mesh","title":"Mesh","text":"relax_mesh!\ngrid_uniform_triangles\nrejection_method\nfind_bars","category":"page"},{"location":"mesh/#SimpleDistMesh.relax_mesh!","page":"Mesh","title":"SimpleDistMesh.relax_mesh!","text":"relax_mesh!(nodes, bars; ...)\n\nMove the nodes of the mesh according the forces between nodes, and return the  maximum distance moved by an iterior node.\n\n\n\n\n\n","category":"function"},{"location":"mesh/#SimpleDistMesh.grid_uniform_triangles","page":"Mesh","title":"SimpleDistMesh.grid_uniform_triangles","text":"grid_uniform_triangles(bounds, h0)\n\nReturn the nodes for a grid of equilaterial triangles with side-length h0. \n\n\n\n\n\n","category":"function"},{"location":"mesh/#SimpleDistMesh.rejection_method","page":"Mesh","title":"SimpleDistMesh.rejection_method","text":"rejection_method(d, h, nodes)\n\nReturn interior nodes which pass the rejection method\n\n\n\n\n\n","category":"function"},{"location":"mesh/#SimpleDistMesh.find_bars","page":"Mesh","title":"SimpleDistMesh.find_bars","text":"find_bars(d, geps, nodes)\n\nUsing a Delaunay triangulation return the bars connecting the nodes of the  mesh and the indices of the mesh triangles\n\nOutput\n\n(bars, triangulation)\n\nbars::Matrix{Int} (2, n_edges) indices of nodes defining bar connections\ntriangulation::Matrix{Int} (3, n_triangles) indices of nodes defining the   triangles of the mesh\n\n\n\n\n\n","category":"function"},{"location":"examples/#Examples","page":"Examples","title":"Examples","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"These examples are derived from the original DistMesh paper by Persson & Strang. [1] ","category":"page"},{"location":"examples/#Increasing-discretization","page":"Examples","title":"Increasing discretization","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"The initial element size parameter h0 and the desired element size distribution h(x) control the level of mesh discretization.","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"d = Circle([0.0, 0.0], 1)  # create signed distance function\nh = x -> 1.0               # element-size distribution\nbounds = [-1 -1; 1 1]      # bounds for initial node distributino\n\nh0s = [0.4, 0.2, 0.1]      # initial element sizes\nmeshes = [Mesh(d, h, h0, bounds) for h0 ∈ h0s]","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"(Image: )","category":"page"},{"location":"examples/#Combining-regions","page":"Examples","title":"Combining regions","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"The regions represented by signed distance functions can easily be combined by taking unions, intersections and differences. In practice this is done by taking the minimum and maximum of a collection of signed distance functions","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"beginaligned\n(d_1 cup d_2)(x) = min  d_1(x)  d_2(x) \n(d_1 cap d_2)(x) = max  d_1(x)  d_2(x) \n(d_1  d_2)(x) = max  d_1(x)  -d_2(x) \nendaligned","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"In practice, you can use the operators ∪, ∩ and setdiff to combine signed distance functions.","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"Circular annulus,","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"c_outer = Circle([0.0, 0.0], 1)\nc_inner = Circle([0.0, 0.0], 0.3)\nd = setdiff(c_outer, c_inner)\nh = x -> 1.0\nh0 = 0.1\nbounds = [-1 -1; 1 1]\nmesh1 = Mesh(d, h, h0, bounds)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"Square with a hole,","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"square = Rect(-1, 1, -1, 1)\nhole = Circle([0.0, 0.0], 0.3)\nd = setdiff(square, hole)\nh = x -> 1.0\nh0 = 0.15\nbounds = [-1 -1; 1 1]\nfixed_nodes = [-1 -1 1 1; -1 1 -1 1]\nmesh2 = Mesh(d, h, h0, bounds; fixed_nodes)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"Square with a hole and adaptive element sizing,","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"square = Rect(-1, 1, -1, 1)\nhole = Circle([0.0, 0.0], 0.4)\nd = setdiff(square, hole)\nh = x -> min(0.2 + norm(x) - 0.4, 1)\nh0 = 0.05\nbounds = [-1 -1; 1 1]\nfixed_nodes = [-1 -1 1 1; -1 1 -1 1]\nmesh3 = Mesh(d, h, h0, bounds; fixed_nodes)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"(Image: )","category":"page"},{"location":"examples/#Complex-geometries-and-adaptive-element-sizes","page":"Examples","title":"Complex geometries & adaptive element sizes","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"Making hexagons,","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"hexagon = (;l, ϕ0) -> Polygon(\n    stack((l * cos(ϕ), l * sin(ϕ)) for ϕ ∈ ϕ0 .+ range(0, 2π, 7)[begin:end-1])\n)\n\nouter_hexagon = hexagon(l=1.0, ϕ0=0)\ninner_hexagon = hexagon(l=0.5, ϕ0=π/6)\n\nd = setdiff(outer_hexagon, inner_hexagon)\nh = x -> 1\nh0 = 0.1\nbounds = transpose(stack(extrema(outer_hexagon.nodes; dims=2);dims=1))\nfixed_nodes = inner_hexagon.nodes\n\nmesh1 = Mesh(d, h, h0, bounds; fixed_nodes)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"Adapting element sizes to geometry,","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"upper_half_plane = x -> -x[2]\nd1 = Circle([0, 0], 1)\nd2 = Circle([-0.4, 0.0], 0.55)\nd = setdiff(d1, d2) ∩ upper_half_plane\n\nh1 = x -> 0.15 - 0.2d1(x)\nh2 = x -> 0.06 + 0.2d2(x)\nh3 = x -> (d2(x) - d1(x)) / 3\n\nh = x -> min(h1(x), h2(x), h3(x))\nh0 = 0.05 / 3\nbounds = [-1 0; 1 1]\nfixed_nodes = [\n    -1.0 -0.95 0.15 1.0\n     0.0  0.00 0.00 0.0\n]\n\nmesh2 = Mesh(d, h, h0, bounds; fixed_nodes)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"(Image: )","category":"page"},{"location":"examples/#Implicit-geometries","page":"Examples","title":"Implicit geometries","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"Meshing super-ellipses,","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"d = setdiff(\n    ImplicitRegion(x -> norm(x, 4) - 1),\n    ImplicitRegion(x -> norm(x, 4) - 0.5)\n)\n\nh = x -> 1\nh0 = 0.1\nbounds = [-1 -1; 1 1]\n\nmesh1 = Mesh(d, h, h0, bounds)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"Weird implicit regions,","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"d = ImplicitRegion(x -> x[2] - cos(x[1])) ∩ ImplicitRegion(x -> -x[2] + 5((2 * x[1] / (5π))^4 - 1))\nh = x -> 1\nh0 = 0.6\nbounds = [-5π/2 -5; 5π/2 1]\nfixed_nodes = [-5π/2 5π/2; 0 0]\n\nmesh2 = Mesh(d, h, h0, bounds; fixed_nodes)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"(Image: )","category":"page"},{"location":"examples/#All-together-now!","page":"Examples","title":"All together now!","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"All of these techniques can be combined to create the mesh of your dreams, 😴❤️❤️","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"r = norm([-4, 0] - [1.0, 0.5])\nϕ = atan(1.5, 5)\n\nd1 = Polygon([\n    -4.0  1.0  1.0  0.0  1.0  1.0\n     0.0  1.5  0.5  0.0 -0.5 -1.5\n]) ∩ Circle([-4, 0], r)\nd2 = Circle([-1.0, 0.0], 0.5)\n\n\nd = setdiff(d1, d2)\nh1 = x -> clamp(0.7norm(x), 0.1, 0.8)\nh2 = x -> 0.2 + d2(x)\nh = x -> min(h1(x), h2(x))\n\nh0 = 0.03\nbounds = [-4 -1.5; 1 1.5]\n\nfixed_nodes = stack([\n    [-4.0, 0.0],\n    [1.0, 0.5],\n    [1.0, -0.5],\n    [0.0, 0.0],\n    [r * cos(ϕ) - 4, r * sin(ϕ)],\n    [r * cos(ϕ) - 4, -r * sin(ϕ)]\n])\n\nmesh = Mesh(d, h, h0, bounds; fixed_nodes)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"(Image: )","category":"page"},{"location":"examples/#References","page":"Examples","title":"References","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"[1] Persson, P. O., & Strang, G. (2004). A simple mesh generator in MATLAB. SIAM review, 46(2), 329-345.","category":"page"},{"location":"signed_distance_functions/","page":"Signed distance functions","title":"Signed distance functions","text":"Pages=[\"signed_distance_functions.md\"]","category":"page"},{"location":"signed_distance_functions/","page":"Signed distance functions","title":"Signed distance functions","text":"CurrentModule = SimpleDistMesh","category":"page"},{"location":"signed_distance_functions/#Signed-distance-functions","page":"Signed distance functions","title":"Signed distance functions","text":"","category":"section"},{"location":"signed_distance_functions/","page":"Signed distance functions","title":"Signed distance functions","text":"A signed distance function, d(x), can be any scalar function in 2-dimensions for which d(x) = 0 defines a meaningful region. For convenience, we have provided several simple types for creating common shapes.","category":"page"},{"location":"signed_distance_functions/","page":"Signed distance functions","title":"Signed distance functions","text":"Circle\nRect\nPolygon\nImplicitRegion\nImplicitRegion(f::Function, c)","category":"page"},{"location":"signed_distance_functions/#SimpleDistMesh.Circle","page":"Signed distance functions","title":"SimpleDistMesh.Circle","text":"Circle(p0, r)\n\nSigned distance function for a circle with center p0 and radius r\n\n\n\n\n\n","category":"type"},{"location":"signed_distance_functions/#SimpleDistMesh.Rect","page":"Signed distance functions","title":"SimpleDistMesh.Rect","text":"Rect(x1, x2, y1, y2)\n\nSigned distance function for a rectangle [x1, x2] × [y1, y2]\n\n\n\n\n\n","category":"type"},{"location":"signed_distance_functions/#SimpleDistMesh.Polygon","page":"Signed distance functions","title":"SimpleDistMesh.Polygon","text":"Polygon(nodes)\n\nSigned distance function for a polygon with 2-dimensional nodes as columns of a matrix\n\nExamples\n\nCreate signed distance function for a triangle\n\njulia> triangle = Polygon([0 1 0; 0 0 1])\nPolygon([0, 0], [1, 0], [0, 1])\n\n\n\n\n\n","category":"type"},{"location":"signed_distance_functions/#SimpleDistMesh.ImplicitRegion","page":"Signed distance functions","title":"SimpleDistMesh.ImplicitRegion","text":"ImplicitRegion(f)\n\nSigned distance function for the implicit region defined by f(x) = 0\n\n\n\n\n\n","category":"type"},{"location":"signed_distance_functions/#SimpleDistMesh.ImplicitRegion-Tuple{Function, Any}","page":"Signed distance functions","title":"SimpleDistMesh.ImplicitRegion","text":"ImplicitRegion(f, c) returns a signed distance function for the implicit region defined by f(x) = c\n\n\n\n\n\n","category":"method"},{"location":"signed_distance_functions/#Examples","page":"Signed distance functions","title":"Examples","text":"","category":"section"},{"location":"signed_distance_functions/","page":"Signed distance functions","title":"Signed distance functions","text":"using SimpleDistMesh # hide\nc = Circle([0.0, 0.0], 1.0)","category":"page"},{"location":"signed_distance_functions/","page":"Signed distance functions","title":"Signed distance functions","text":"","category":"page"},{"location":"signed_distance_functions/","page":"Signed distance functions","title":"Signed distance functions","text":"Signed distance functions can also be composed with coordinate transforms to define a range of different geoemtries. For convenience, we also provide a type for defining rotations.","category":"page"},{"location":"signed_distance_functions/","page":"Signed distance functions","title":"Signed distance functions","text":"Rotation","category":"page"},{"location":"signed_distance_functions/#SimpleDistMesh.Rotation","page":"Signed distance functions","title":"SimpleDistMesh.Rotation","text":"Rotation(ϕ, p0)\n\nRotation about point p0 counter-clockwise by angle ϕ (in radians)\n\nExamples\n\nRotate point about the origin by π/2\n\njulia> Rotation(π/2)([1.0, 0.0])\n2-element Vector{Float64}:\n 6.123233995736766e-17\n 1.0\n\n\n\n\n\n","category":"type"},{"location":"signed_distance_functions/","page":"Signed distance functions","title":"Signed distance functions","text":"All of these are subtypes of the abstract type,","category":"page"},{"location":"signed_distance_functions/","page":"Signed distance functions","title":"Signed distance functions","text":"SignedDistFunc","category":"page"},{"location":"signed_distance_functions/#SimpleDistMesh.SignedDistFunc","page":"Signed distance functions","title":"SimpleDistMesh.SignedDistFunc","text":"SignedDistFunc\n\nAbstract type for all signed distance functions\n\n\n\n\n\n","category":"type"},{"location":"signed_distance_functions/","page":"Signed distance functions","title":"Signed distance functions","text":"","category":"page"},{"location":"signed_distance_functions/#Combining-regions","page":"Signed distance functions","title":"Combining regions","text":"","category":"section"},{"location":"signed_distance_functions/","page":"Signed distance functions","title":"Signed distance functions","text":"The regions represented by signed distance can also be combined using common set operations of unions, intersections and set differences.","category":"page"},{"location":"signed_distance_functions/","page":"Signed distance functions","title":"Signed distance functions","text":"union\nsetdiff\nintersect","category":"page"},{"location":"signed_distance_functions/#Base.union","page":"Signed distance functions","title":"Base.union","text":"union(f, g) returns the union of the regions for signed distance functions \n\n\n\n\n\n","category":"function"},{"location":"signed_distance_functions/#Base.setdiff","page":"Signed distance functions","title":"Base.setdiff","text":"setdiff(f, g) returns the region of f with g removed for signed distance functions\n\n\n\n\n\n","category":"function"},{"location":"signed_distance_functions/#Base.intersect","page":"Signed distance functions","title":"Base.intersect","text":"intersect(f, g) returns the intersection of the f and g regions for signed distance functions\n\n\n\n\n\n","category":"function"},{"location":"signed_distance_functions/","page":"Signed distance functions","title":"Signed distance functions","text":"","category":"page"},{"location":"signed_distance_functions/#Utilities","page":"Signed distance functions","title":"Utilities","text":"","category":"section"},{"location":"signed_distance_functions/","page":"Signed distance functions","title":"Signed distance functions","text":"To create signed distance functions for polygonal geometries we define several useful functions.","category":"page"},{"location":"signed_distance_functions/","page":"Signed distance functions","title":"Signed distance functions","text":"implicit_project\ndistance\nwinding_number\nin\ntriangle_area","category":"page"},{"location":"signed_distance_functions/#SimpleDistMesh.implicit_project","page":"Signed distance functions","title":"SimpleDistMesh.implicit_project","text":"implicit_project(f, x0; max_iters, α)\n\nReturn the projection of x0 onto the level set f(x) = 0 such that the displacement from x0 is parallel to the gradient, (x - x0) ⋅ ∇f(x) = 0\n\n\n\n\n\n","category":"function"},{"location":"signed_distance_functions/#SimpleDistMesh.distance","page":"Signed distance functions","title":"SimpleDistMesh.distance","text":"distance(poly, x)\n\nReturn the minimal 2-norm distance from x to the edges of the polygon poly\n\n\n\n\n\n","category":"function"},{"location":"signed_distance_functions/#SimpleDistMesh.winding_number","page":"Signed distance functions","title":"SimpleDistMesh.winding_number","text":"winding_number(poly, x)\n\nReturn the winding number of polygon poly about point x\n\n\n\n\n\n","category":"function"},{"location":"signed_distance_functions/#Base.in","page":"Signed distance functions","title":"Base.in","text":"in(x::Vector, poly::Polygon)\n\nReturn true if point x is inside polygon poly\n\n\n\n\n\n","category":"function"},{"location":"signed_distance_functions/#SimpleDistMesh.triangle_area","page":"Signed distance functions","title":"SimpleDistMesh.triangle_area","text":"triangle_area(a, b, c)\n\nReturn the signed area of the 2D triangle abc\n\n\n\n\n\n","category":"function"},{"location":"#SimpleDistMesh.jl","page":"Home","title":"SimpleDistMesh.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"A Julia implementation of DistMesh, a simple signed distance function meshing algorithm developed by Per-Olof Persson.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Given the importance of mesh generation across a broad range of discplines, \"the ability to understand and adapt mesh generation code is too valuable an option to lose.\" [1] Thus, a motivation for the DistMesh algorithm is to provide a simple meshing algorithm capable of producing high quality meshes, easily understood and modified by newcomers. ","category":"page"},{"location":"","page":"Home","title":"Home","text":"In keeping with this goal our implementation sacrifices performance in favor of readability. Also, some minor changes have been made to the MATLAB implementation to express the ideas more idiomatically in Julia. For implementation details see src/distmesh.jl in this repository or, preferably, the original paper by Persson & Strang. [1]","category":"page"},{"location":"#References","page":"Home","title":"References","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"[1] Persson, P. O., & Strang, G. (2004). A simple mesh generator in MATLAB. SIAM review, 46(2), 329-345.","category":"page"},{"location":"","page":"Home","title":"Home","text":"[2] Persson, P. O. (2005). Mesh generation for implicit geometries (Doctoral dissertation, Massachusetts Institute of Technology).","category":"page"}]
}
